.\"                                      Hey, EMACS: -*- nroff -*-
.\" (C) Copyright 2024 Julian Gilbey <jdg@debian.org>,
.\"
.\" First parameter, NAME, should be all caps
.\" Second parameter, SECTION, should be 1-8, maybe w/ subsection
.\" other parameters are allowed: see man(7), man(1)
.TH TFPROF 1 "February 22 2024"
.\" Please adjust this date whenever revising the manpage.
.\"
.\" Some roff macros, for reference:
.\" .nh        disable hyphenation
.\" .hy        enable hyphenation
.\" .ad l      left justify
.\" .ad b      justify to both left and right margins
.\" .nf        disable filling
.\" .fi        enable filling
.\" .br        insert line break
.\" .sp <n>    insert n+1 empty lines
.\" for manpage-specific macros, see man(7)
.SH NAME
tfprof \- profile a Taskflow program
.SH SYNOPSIS
.B tfprof
.RI [ options ]
.SH DESCRIPTION
.\" TeX users may be more comfortable with the \fB<whatever>\fP and
.\" \fI<whatever>\fP escape sequences to invode bold face and italics,
.\" respectively.
\fBtfprof\fP is a program that visualises and profiles programs
compiled using Taskflow.  The program should be compiled using
\fBcmake\fP with the option \fB\-D TF_BUILD_PROFILER=ON\fP, and then
run with an environment variable specifying the profile data output
file, for example under the build directory:
.PP
$ cmake ../ -D TF_BUILD_PROFILER=ON
.br
$ make
.br
$ TF_ENABLE_PROFILER=my_taskflow.tfp ./my_taskflow
.PP
The profiler is then run to visualise the output, for example
.PP
$ tfprof --input my_taskflow.tfp
.PP
and the results can be seen at http://localhost:8080/
.SH OPTIONS
.TP
.BR \-h ", " \-\-help
Show summary of options.
.TP
.BR \-i ", " \-\-input
The profiling data file; this option is required.
.TP
.BR \-m ", " \-\-mount
The location of the static Taskflow profiler server files.  In
the Debian version of \fBtfprof\fP, this is optional; it defaults to
\fB/usr/share/taskflow\fP.
.TP
.BR \-p ", " \-\-port
The port the server should listen on; this defaults to 8080.
.SH SEE ALSO
The Taskflow system is documented fully in the documentation,
available in the taskflow-doc package on Debian systems or online at
.UR https://taskflow.github.io/taskflow/index.html
.UE
